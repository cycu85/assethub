# KONTEKS APLIKACJI ASSETHUB - PRZEWODNIK DLA GENERATORÃ“W AI

## ARCHITEKTURA I KONWENCJE

### Struktura aplikacji
- **Framework**: Symfony 7.0 + PHP 8.2+
- **Baza danych**: MySQL/MariaDB z Doctrine ORM
- **Frontend**: Bootstrap 5.3 + Twig templates + vanilla JavaScript
- **Autoryzacja**: Enterprise-grade system z AuthorizationService
- **Logowanie**: Kompleksowe audyty przez AuditService z wielopoziomowym logowaniem
- **Architektura**: Service Layer Pattern + CQRS + Event-Driven Architecture

### Konwencje nazewnictwa
- **Kontrolery**: `{Module}Controller` (np. EquipmentController)
- **Encje**: Singular form (User, Equipment, Module)
- **Repozytoria**: `{Entity}Repository`
- **Formularze**: `{Purpose}Type` (np. EquipmentCreateType)
- **Serwisy**: `{Purpose}Service` (np. EquipmentService, AuthorizationService, AuditService)
- **Commands**: `{Action}{Entity}Command` (np. CreateEquipmentCommand)
- **Queries**: `Get{Entity}Query` (np. GetEquipmentQuery)
- **Events**: `{Entity}{Action}Event` (np. EquipmentCreatedEvent)
- **Event Subscribers**: `{Module}EventSubscriber` (np. EquipmentEventSubscriber)
- **Szablony**: `{module}/{action}.html.twig`

## ARCHITEKTURA ENTERPRISE

### Service Layer Pattern
Wszystkie kontrolery uÅ¼ywajÄ… warstwy serwisÃ³w dla separacji logiki biznesowej:

```php
// Kontroler - tylko warstwa prezentacji
public function create(Request $request): Response
{
    $user = $this->getUser();
    
    // Autoryzacja przez AuthorizationService
    $this->authorizationService->checkPermission($user, 'equipment', 'CREATE', $request);
    
    if ($form->isSubmitted() && $form->isValid()) {
        // Logika biznesowa w serwisie
        $equipment = $this->equipmentService->createEquipment($data, $user);
        
        // Event dla loose coupling
        $event = new EquipmentCreatedEvent($equipment, $user, $context);
        $this->eventDispatcher->dispatch($event, EquipmentCreatedEvent::NAME);
        
        return $this->redirectToRoute('equipment_index');
    }
    
    return $this->render('equipment/new.html.twig', ['form' => $form]);
}
```

### CQRS Pattern (Command Query Responsibility Segregation)
Separacja komend i zapytaÅ„:

```php
// Command - dla operacji zapisu
$command = new CreateEquipmentCommand(
    name: $data['name'],
    description: $data['description'],
    categoryId: $data['category'],
    createdById: $user->getId()
);

// Query - dla operacji odczytu  
$query = new GetEquipmentQuery(
    page: $request->query->getInt('page', 1),
    limit: 25,
    search: $request->query->get('search'),
    filters: $filters
);
```

### Event-Driven Architecture
Zdarzenia domenowe z subskrybentami:

```php
// Event
class EquipmentCreatedEvent extends Event
{
    public const NAME = 'equipment.created';
    
    public function __construct(
        private Equipment $equipment,
        private User $createdBy,
        private array $context = []
    ) {}
}

// Event Subscriber
class EquipmentEventSubscriber implements EventSubscriberInterface
{
    public static function getSubscribedEvents(): array
    {
        return [
            EquipmentCreatedEvent::NAME => [
                ['onEquipmentCreated', 10],
                ['checkHighValueEquipment', 5],
            ],
        ];
    }
    
    public function onEquipmentCreated(EquipmentCreatedEvent $event): void
    {
        // Kompleksowy audit
        $this->auditService->logUserAction($event->getCreatedBy(), 'equipment_created_event', [
            'equipment_id' => $event->getEquipment()->getId(),
            'equipment_name' => $event->getEquipment()->getName(),
            'context' => $event->getContext()
        ]);
        
        // WysyÅ‚anie powiadomieÅ„ email (opcjonalnie)
        if ($this->mailer) {
            $this->sendCreationNotification($event);
        }
    }
}
```

### AuthorizationService - Centralizowana Autoryzacja
ZastÄ…piÅ‚ stary PermissionService:

```php
// W kontrolerach - ZAWSZE na poczÄ…tku akcji
$this->authorizationService->checkModuleAccess($user, 'equipment', $request);
$this->authorizationService->checkPermission($user, 'equipment', 'CREATE', $request);

// Sprawdzanie uprawnieÅ„
$canEdit = $this->authorizationService->hasPermission($user, 'equipment', 'EDIT');
$canEditAny = $this->authorizationService->hasAnyPermission($user, 'equipment', ['EDIT', 'DELETE']);

// WÅ‚aÅ›cicielstwo zasobÃ³w
$canEditResource = $this->authorizationService->canEditResource($user, $equipment);

// Pobieranie moduÅ‚Ã³w uÅ¼ytkownika
$availableModules = $this->authorizationService->getUserModules($user);
```

### AuditService - Kompleksowy System Audytu
Zunifikowane logowanie wszystkich dziaÅ‚aÅ„:

```php
// Akcje uÅ¼ytkownikÃ³w
$this->auditService->logUserAction($user, 'view_equipment_index', [
    'page' => $page,
    'filters' => $filters,
    'total_equipment' => $equipmentCount
], $request);

// Zdarzenia bezpieczeÅ„stwa
$this->auditService->logSecurityEvent('failed_login', $user, [
    'attempts' => $attempts,
    'locked_until' => $lockTime
], $request, 'high');

// Operacje CRUD
$this->auditService->logCrudOperation($user, 'Equipment', $equipment->getId(), 'CREATE', $data, $request);

// Akcje administracyjne
$this->auditService->logAdminAction($admin, 'database_backup_created', [
    'filename' => $filename,
    'size' => $fileSize
], $request);

// Operacje bazy danych
$this->auditService->logDatabaseOperation($admin, 'optimize', true, [
    'optimized_tables' => $count,
    'duration' => $duration
], $request);
```

## SERWISY BIZNESOWE

### EquipmentService - ZarzÄ…dzanie SprzÄ™tem
Kompletna logika biznesowa sprzÄ™tu:

```php
// CRUD Operations
$equipment = $this->equipmentService->createEquipment($data, $user);
$equipment = $this->equipmentService->updateEquipment($equipment, $context, $user);
$this->equipmentService->deleteEquipment($equipment, $user);

// Business Operations
$equipment = $this->equipmentService->assignEquipment($equipment, $assignee, $assignedBy, $notes);
$equipment = $this->equipmentService->unassignEquipment($equipment, $user);
$equipment = $this->equipmentService->markAsDamaged($equipment, $user, $description);

// Queries
$pagination = $this->equipmentService->getEquipmentWithPagination($page, $limit, $filters);
$statistics = $this->equipmentService->getEquipmentStatistics();
$results = $this->equipmentService->searchEquipment($query, $limit);
$userEquipment = $this->equipmentService->getUserAssignedEquipment($user);
$categoryData = $this->equipmentService->getEquipmentByCategory($categoryId);
```

### AdminService - Operacje Administracyjne
ZarzÄ…dzanie systemem i danymi:

```php
// System Management
$result = $this->adminService->resetGeneralSettingsToDefaults($admin);
$systemInfo = $this->adminService->getSystemInfo();
$dashboardData = $this->adminService->getDashboardData();

// Database Operations  
$filename = $this->adminService->createDatabaseBackup();
$result = $this->adminService->performDatabaseMaintenance('optimize');
$result = $this->adminService->clearSystemLogs(['application', 'security']);

// Backup Management
$backups = $this->adminService->listBackups();
$result = $this->adminService->cleanupOldBackups($daysToKeep, $admin);
```

## SYSTEM MODUÅOWY - ENTERPRISE EDITION

### Autoryzacja moduÅ‚owa
KaÅ¼dy moduÅ‚ ma:
1. Wpis w tabeli `modules` (nazwa, opis, czy aktywny)
2. Role przypisane do moduÅ‚Ã³w w tabeli `roles`
3. UÅ¼ytkownicy majÄ… role przez tabelÄ™ `user_roles`
4. Kontrolery sprawdzajÄ… uprawnienia przez `AuthorizationService`

### Dodawanie nowego moduÅ‚u - KOMPLETNY CHECKLIST:

#### 1. BAZA DANYCH
```sql
-- Dodaj moduÅ‚
INSERT INTO modules (name, display_name, description, is_active, sort_order) 
VALUES ('new_module', 'Nowy ModuÅ‚', 'Opis nowego moduÅ‚u', 1, 100);

-- Dodaj role
INSERT INTO roles (name, display_name, description, permissions, module_id) VALUES
('NEW_MODULE_ADMIN', 'Administrator', 'PeÅ‚ny dostÄ™p', 'VIEW,CREATE,EDIT,DELETE', LAST_INSERT_ID()),
('NEW_MODULE_USER', 'UÅ¼ytkownik', 'Tylko podglÄ…d', 'VIEW', LAST_INSERT_ID());
```

#### 2. SERWIS BIZNESOWY (src/Service/)
```php
class NewModuleService
{
    public function __construct(
        private NewModuleRepository $repository,
        private EntityManagerInterface $entityManager,
        private AuditService $auditService,
        private LoggerInterface $logger,
        private ValidatorInterface $validator
    ) {}
    
    public function createEntity(array $data, User $user): NewModuleEntity
    {
        // Walidacja biznesowa
        if (empty($data['name'])) {
            throw new ValidationException('Name is required');
        }
        
        // Tworzenie encji
        $entity = new NewModuleEntity();
        $this->populateFromArray($entity, $data);
        $entity->setCreatedBy($user);
        
        // Walidacja Symfony
        $violations = $this->validator->validate($entity);
        if (count($violations) > 0) {
            throw new ValidationException('Validation errors', $violations);
        }
        
        // Persystencja
        $this->entityManager->persist($entity);
        $this->entityManager->flush();
        
        // Audit
        $this->auditService->logCrudOperation($user, 'NewModuleEntity', $entity->getId(), 'CREATE', $data);
        
        // Logging
        $this->logger->info('New module entity created', [
            'entity_id' => $entity->getId(),
            'user' => $user->getUsername()
        ]);
        
        return $entity;
    }
}
```

#### 3. KONTROLERY - ENTERPRISE PATTERN
```php
#[Route('/new-module')]
class NewModuleController extends AbstractController
{
    public function __construct(
        private AuthorizationService $authorizationService,
        private AuditService $auditService,
        private NewModuleService $newModuleService,
        private EventDispatcherInterface $eventDispatcher,
        private LoggerInterface $logger
    ) {}

    #[Route('/', name: 'new_module_index')]
    public function index(Request $request): Response
    {
        $user = $this->getUser();
        
        // Autoryzacja
        $this->authorizationService->checkModuleAccess($user, 'new_module', $request);
        
        // Business logic via service
        $pagination = $this->newModuleService->getPaginatedList($request->query->all());
        
        // Audit
        $this->auditService->logUserAction($user, 'view_new_module_index', [], $request);
        
        return $this->render('new_module/index.html.twig', [
            'entities' => $pagination,
            'can_create' => $this->authorizationService->hasPermission($user, 'new_module', 'CREATE'),
            'can_edit' => $this->authorizationService->hasPermission($user, 'new_module', 'EDIT'),
        ]);
    }
    
    #[Route('/new', name: 'new_module_new')]
    public function new(Request $request): Response
    {
        $user = $this->getUser();
        
        // Autoryzacja
        $this->authorizationService->checkPermission($user, 'new_module', 'CREATE', $request);
        
        $form = $this->createForm(NewModuleType::class);
        $form->handleRequest($request);
        
        if ($form->isSubmitted() && $form->isValid()) {
            try {
                // Command pattern
                $command = new CreateNewModuleCommand(
                    name: $form->get('name')->getData(),
                    description: $form->get('description')->getData(),
                    // ...
                );
                
                // Business logic via service
                $entity = $this->newModuleService->createEntity($command->toArray(), $user);
                
                // Domain event
                $event = new NewModuleCreatedEvent($entity, $user, [
                    'source' => 'web_form',
                    'ip' => $request->getClientIp()
                ]);
                $this->eventDispatcher->dispatch($event, NewModuleCreatedEvent::NAME);
                
                $this->addFlash('success', 'Entity created successfully.');
                return $this->redirectToRoute('new_module_index');
                
            } catch (ValidationException $e) {
                $this->addFlash('error', 'Validation error: ' . $e->getMessage());
            } catch (\Exception $e) {
                $this->addFlash('error', 'Unexpected error occurred.');
                $this->logger->error('Failed to create new module entity', [
                    'error' => $e->getMessage(),
                    'user' => $user->getUsername()
                ]);
            }
        }
        
        return $this->render('new_module/new.html.twig', ['form' => $form]);
    }
}
```

#### 4. COMMAND/QUERY PATTERN
```php
// Command (src/Command/NewModule/)
class CreateNewModuleCommand
{
    public function __construct(
        public readonly string $name,
        public readonly ?string $description = null,
        public readonly ?int $categoryId = null
    ) {}
    
    public function toArray(): array
    {
        return [
            'name' => $this->name,
            'description' => $this->description,
            'categoryId' => $this->categoryId
        ];
    }
}

// Query (src/Query/NewModule/)
class GetNewModuleQuery
{
    public function __construct(
        public readonly int $page = 1,
        public readonly int $limit = 25,
        public readonly ?string $search = null,
        public readonly array $filters = []
    ) {}
}
```

#### 5. EVENT SYSTEM
```php
// Event (src/Event/NewModule/)
class NewModuleCreatedEvent extends Event
{
    public const NAME = 'new_module.created';
    
    public function __construct(
        private NewModuleEntity $entity,
        private User $createdBy,
        private array $context = []
    ) {}
    
    // getters...
}

// Event Subscriber (src/EventSubscriber/)
class NewModuleEventSubscriber implements EventSubscriberInterface
{
    public function __construct(
        private AuditService $auditService,
        private LoggerInterface $logger,
        private ?MailerInterface $mailer = null
    ) {}
    
    public static function getSubscribedEvents(): array
    {
        return [
            NewModuleCreatedEvent::NAME => [
                ['onEntityCreated', 10],
                ['sendNotification', 5],
            ],
        ];
    }
    
    public function onEntityCreated(NewModuleCreatedEvent $event): void
    {
        $this->auditService->logUserAction($event->getCreatedBy(), 'new_module_created_event', [
            'entity_id' => $event->getEntity()->getId(),
            'entity_name' => $event->getEntity()->getName(),
            'context' => $event->getContext()
        ]);
    }
}
```

## TESTY JEDNOSTKOWE - ENTERPRISE COVERAGE

### Struktura testÃ³w
```
tests/
â”œâ”€â”€ Controller/
â”‚   â”œâ”€â”€ EquipmentControllerTest.php      # âœ… 12 testÃ³w
â”‚   â”œâ”€â”€ DashboardControllerTest.php      # âœ… 7 testÃ³w
â”‚   â”œâ”€â”€ SearchControllerTest.php         # âœ… 8 testÃ³w
â”‚   â””â”€â”€ {Module}ControllerTest.php
â”œâ”€â”€ Service/
â”‚   â”œâ”€â”€ AuthorizationServiceTest.php     # âœ… 17 testÃ³w
â”‚   â”œâ”€â”€ AuditServiceTest.php            # âœ… 15 testÃ³w
â”‚   â”œâ”€â”€ EquipmentServiceTest.php        # âœ… 18 testÃ³w
â”‚   â”œâ”€â”€ AdminServiceTest.php            # âœ… 12 testÃ³w
â”‚   â””â”€â”€ {Service}Test.php
â””â”€â”€ Entity/
    â””â”€â”€ {Entity}Test.php
```

### Pattern testÃ³w dla serwisÃ³w
```php
class NewModuleServiceTest extends TestCase
{
    private NewModuleService $service;
    private MockObject|EntityManagerInterface $entityManagerMock;
    private MockObject|AuditService $auditServiceMock;
    
    protected function setUp(): void
    {
        $this->entityManagerMock = $this->createMock(EntityManagerInterface::class);
        $this->auditServiceMock = $this->createMock(AuditService::class);
        
        $this->service = new NewModuleService(
            $this->repositoryMock,
            $this->entityManagerMock,
            $this->auditServiceMock,
            $this->loggerMock,
            $this->validatorMock
        );
    }
    
    public function testCreateEntitySuccessfully(): void
    {
        // Arrange
        $data = ['name' => 'Test Entity'];
        $user = $this->createTestUser();
        
        $this->validatorMock->expects($this->once())
            ->method('validate')
            ->willReturn(new ConstraintViolationList());
            
        $this->entityManagerMock->expects($this->once())
            ->method('persist');
            
        $this->auditServiceMock->expects($this->once())
            ->method('logCrudOperation');
        
        // Act
        $entity = $this->service->createEntity($data, $user);
        
        // Assert
        $this->assertInstanceOf(NewModuleEntity::class, $entity);
        $this->assertEquals('Test Entity', $entity->getName());
    }
}
```

### Pattern testÃ³w dla kontrolerÃ³w
```php
class NewModuleControllerTest extends WebTestCase
{
    private $client;
    private MockObject|AuthorizationService $authorizationServiceMock;
    private MockObject|AuditService $auditServiceMock;
    
    protected function setUp(): void
    {
        $this->client = static::createClient();
        
        // Mock services in container
        $container = self::getContainer();
        $container->set(AuthorizationService::class, $this->authorizationServiceMock);
        $container->set(AuditService::class, $this->auditServiceMock);
    }
    
    public function testIndexActionWithAuthenticatedUser(): void
    {
        $user = $this->createTestUser();
        $this->client->loginUser($user);
        
        $this->authorizationServiceMock->expects($this->once())
            ->method('checkModuleAccess')
            ->with($user, 'new_module');
            
        $this->auditServiceMock->expects($this->once())
            ->method('logUserAction');
        
        $this->client->request('GET', '/new-module/');
        
        $this->assertResponseIsSuccessful();
    }
}
```

## WYSZUKIWANIE GLOBALNE

### SearchController - Enterprise Search
Rozszerzony system wyszukiwania:

```php
// Multi-module search z rate limiting
public function search(Request $request): JsonResponse
{
    $user = $this->getUser();
    
    // Rate limiting
    $limiter = $this->searchLimiter->create($user->getId());
    if (!$limiter->consume(1)->isAccepted()) {
        $this->auditService->logSecurityEvent('search_rate_limit_exceeded', $user);
        throw new TooManyRequestsHttpException(60);
    }
    
    $results = [];
    
    // Wyszukiwanie w uÅ¼ytkownikach
    if ($this->authorizationService->hasModuleAccess($user, 'employees')) {
        $users = $this->searchUsers($query);
        // Transform to unified result format
    }
    
    // Wyszukiwanie w sprzÄ™cie
    if ($this->authorizationService->hasAnyPermission($user, 'equipment', ['VIEW'])) {
        $equipment = $this->equipmentService->searchEquipment($query, 5);
        // Transform to unified result format
    }
    
    // Audit search
    $this->auditService->logUserAction($user, 'global_search', [
        'query' => $query,
        'results_count' => count($results),
        'types_searched' => $typesSearched
    ], $request);
    
    return new JsonResponse([
        'results' => array_slice($results, 0, 10),
        'total' => count($results),
        'query' => $query
    ]);
}
```

## DASHBOARD - ENTERPRISE METRICS

### DashboardController - Smart Dashboard
Inteligentny dashboard z metrykami:

```php
public function index(Request $request): Response
{
    $user = $this->getUser();
    
    // Pobierz dostÄ™pne moduÅ‚y
    $availableModules = $this->authorizationService->getUserModules($user);
    
    // Inteligentne statystyki w zaleÅ¼noÅ›ci od uprawnieÅ„
    $dashboardStats = $this->getDashboardStats($user);
    
    // Audit
    $this->auditService->logUserAction($user, 'view_dashboard', [
        'modules_count' => count($availableModules),
        'has_equipment_access' => in_array('equipment', array_column($availableModules, 'name'))
    ], $request);
    
    return $this->render('dashboard/index.html.twig', [
        'user' => $user,
        'modules' => $availableModules,
        'stats' => $dashboardStats,
    ]);
}

private function getDashboardStats($user): array
{
    $stats = [
        'total_equipment' => 0,
        'my_equipment' => 0,
        'available_equipment' => 0,
        'damaged_equipment' => 0
    ];
    
    // Tylko dla uÅ¼ytkownikÃ³w z dostÄ™pem do sprzÄ™tu
    if ($this->authorizationService->hasAnyPermission($user, 'equipment', ['VIEW', 'EDIT'])) {
        try {
            $equipmentStats = $this->equipmentService->getEquipmentStatistics();
            $stats = array_merge($stats, $equipmentStats);
            
            $userEquipment = $this->equipmentService->getUserAssignedEquipment($user);
            $stats['my_equipment'] = count($userEquipment);
        } catch (\Exception $e) {
            $this->logger->warning('Failed to load dashboard equipment stats', [
                'user' => $user->getUsername(),
                'error' => $e->getMessage()
            ]);
        }
    }
    
    return $stats;
}
```

## SYSTEM PROFILI - ROZSZERZONY

### ProfileController - Enterprise Profile Management
ZarzÄ…dzanie profilami uÅ¼ytkownikÃ³w z audytem:

```php
public function index(Request $request, UserPasswordHasherInterface $passwordHasher, EntityManagerInterface $entityManager): Response
{
    $user = $this->getUser();
    
    // Audit profile access
    $this->auditService->logUserAction($user, 'view_profile', [], $request);
    
    // ObsÅ‚uga zmiany hasÅ‚a z audytem
    if ($changePasswordForm->isSubmitted() && $changePasswordForm->isValid()) {
        if (!$passwordHasher->isPasswordValid($user, $data['currentPassword'])) {
            // Audit failed password change
            $this->auditService->logSecurityEvent('password_change_failed_invalid_current', $user, [
                'reason' => 'invalid_current_password'
            ], $request);
        } else {
            // Successful password change
            $this->auditService->logSecurityEvent('password_changed', $user, [
                'changed_by_user' => true
            ], $request);
        }
    }
    
    // Avatar upload z audytem
    if ($avatarUploadForm->isSubmitted() && $avatarUploadForm->isValid()) {
        $result = $this->handleAvatarUpload($avatarFile, $user, $slugger, $entityManager);
        
        if ($result['success']) {
            $this->auditService->logUserAction($user, 'avatar_changed', [
                'filename' => $result['filename'],
                'file_size' => $result['file_size']
            ], $request);
        }
    }
}
```

## BAZA DANYCH - ENTERPRISE MANAGEMENT

### AdminService - Zaawansowane zarzÄ…dzanie bazÄ…
Profesjonalne narzÄ™dzia administracyjne:

```php
// Dashboard z metrykami systemowymi
public function getDashboardData(): array
{
    return [
        'system_stats' => [
            'users_count' => $this->entityManager->getRepository('App\\Entity\\User')->count([]),
            'equipment_count' => $this->entityManager->getRepository('App\\Entity\\Equipment')->count([]),
            'active_sessions' => 0, // TODO: Implement session counting
        ],
        'recent_activities' => [], // Recent audit logs
        'system_info' => $this->getSystemInfo()
    ];
}

// Backup z kompatybilnoÅ›ciÄ…
public function createDatabaseBackup(): string
{
    $connection = $this->entityManager->getConnection();
    $databaseName = $connection->getDatabase();
    
    if (!$this->isMySQLPlatform($connection->getDatabasePlatform())) {
        throw new DatabaseException('Backup jest obsÅ‚ugiwany tylko dla MySQL');
    }
    
    $backupDir = $this->kernel->getProjectDir() . '/var/backups';
    $filename = 'backup_' . $databaseName . '_' . date('Y-m-d_H-i-s') . '.sql';
    $filepath = $backupDir . '/' . $filename;
    
    // Bezpieczne wykonanie mysqldump
    $params = $connection->getParams();
    $command = sprintf(
        'mysqldump -h%s -P%s -u%s -p%s --single-transaction --routines --triggers %s > %s',
        escapeshellarg($params['host']),
        escapeshellarg($params['port']),
        escapeshellarg($params['user']),
        escapeshellarg($params['password']),
        escapeshellarg($databaseName),
        escapeshellarg($filepath)
    );
    
    exec($command, $output, $returnCode);
    
    if ($returnCode !== 0 || !file_exists($filepath)) {
        throw new DatabaseException('Backup nie powiÃ³dÅ‚ siÄ™');
    }
    
    return $filename;
}
```

## BEZPIECZEÅƒSTWO - ENTERPRISE GRADE

### Kompleksowy system audytu
```php
// RÃ³Å¼ne poziomy logowania
$this->auditService->logUserAction($user, 'action', $data, $request);          // INFO
$this->auditService->logSecurityEvent('event', $user, $data, $request, 'high'); // ERROR  
$this->auditService->logAdminAction($admin, 'action', $data, $request);         // NOTICE
$this->auditService->logDatabaseOperation($user, 'backup', true, $data);       // NOTICE/ERROR

// Automatyczna sanityzacja danych wraÅ¼liwych
private function sanitizeData(array $data): array
{
    $sensitiveKeys = ['password', 'token', 'api_key', 'secret'];
    
    foreach ($sensitiveKeys as $key) {
        if (isset($data[$key])) {
            $data[$key] = '***';
        }
    }
    
    return $data;
}

// Context z request information
private function getRequestContext(?Request $request): array
{
    if (!$request) {
        return [
            'ip_address' => 'CLI',
            'user_agent' => 'CLI',
            'method' => 'CLI',
            'uri' => 'CLI',
            'timestamp' => new \DateTime()
        ];
    }
    
    return [
        'ip_address' => $request->getClientIp(),
        'user_agent' => $request->headers->get('User-Agent'),
        'method' => $request->getMethod(),
        'uri' => $request->getRequestUri(),
        'timestamp' => new \DateTime()
    ];
}
```

### Rate Limiting w SearchController
```php
// Rate limiting z audytem
$limiter = $this->searchLimiter->create($user->getId());
if (!$limiter->consume(1)->isAccepted()) {
    $this->auditService->logSecurityEvent('search_rate_limit_exceeded', $user, [
        'attempted_query' => $request->query->get('q', '')
    ], $request);
    throw new TooManyRequestsHttpException(60, 'Too many search requests');
}
```

## KOMPATYBILNOÅšÄ† I NAJLEPSZE PRAKTYKI

### Doctrine DBAL - KompatybilnoÅ›Ä‡
```php
// POPRAWNE - kompatybilne z nowszymi wersjami
private function isMySQLPlatform($platform): bool
{
    return $platform instanceof \Doctrine\DBAL\Platforms\MySQLPlatform;
}

private function getDatabaseTypeName($platform): string
{
    if ($platform instanceof \Doctrine\DBAL\Platforms\MySQLPlatform) {
        return 'mysql';
    } elseif ($platform instanceof \Doctrine\DBAL\Platforms\PostgreSQLPlatform) {
        return 'postgresql';
    }
    
    return 'unknown';
}
```

### Exception Handling
```php
// Centralizowana obsÅ‚uga bÅ‚Ä™dÃ³w
try {
    $result = $this->businessService->performOperation($data, $user);
} catch (ValidationException $e) {
    $this->addFlash('error', 'BÅ‚Ä…d walidacji: ' . $e->getMessage());
    $this->auditService->logUserAction($user, 'operation_failed_validation', [
        'error' => $e->getMessage(),
        'data' => $this->auditService->sanitizeData($data)
    ], $request);
} catch (BusinessLogicException $e) {
    $this->addFlash('error', $e->getMessage());
    $this->auditService->logUserAction($user, 'operation_failed_business_logic', [
        'error' => $e->getMessage()
    ], $request);
} catch (\Exception $e) {
    $this->addFlash('error', 'WystÄ…piÅ‚ nieoczekiwany bÅ‚Ä…d.');
    $this->logger->error('Unexpected error in operation', [
        'user' => $user->getUsername(),
        'error' => $e->getMessage(),
        'trace' => $e->getTraceAsString()
    ]);
}
```

## DEPLOYMENT CHECKLIST - ENTERPRISE

### Pre-deployment dla nowego moduÅ‚u:
- [ ] **Serwis biznesowy** utworzony z peÅ‚nym API
- [ ] **Kontroler** uÅ¼ywa Service Layer + AuthorizationService + AuditService
- [ ] **CQRS Commands/Queries** zaimplementowane
- [ ] **Event System** skonfigurowany z subskrybentami
- [ ] **Testy jednostkowe** napisane (service + controller)
- [ ] **Migracje bazy danych** przetestowane  
- [ ] **Fixtures** zaktualizowane
- [ ] **Autoryzacja** skonfigurowana przez AuthorizationService
- [ ] **Audit logging** zaimplementowany we wszystkich akcjach
- [ ] **Exception handling** centralizowany
- [ ] **Rate limiting** gdzie potrzebne
- [ ] **Walidacja** na poziomie biznesowym i Symfony
- [ ] **Dokumentacja** zaktualizowana
- [ ] **Cache** wyczyszczony na produkcji

---

**ARCHITEKTURA ENTERPRISE ASSETHUB:**
- âœ… Service Layer Pattern
- âœ… CQRS (Command Query Responsibility Segregation)  
- âœ… Event-Driven Architecture
- âœ… Centralizowana autoryzacja (AuthorizationService)
- âœ… Kompleksowy audit trail (AuditService)
- âœ… PeÅ‚ne pokrycie testami jednostkowymi
- âœ… Exception handling i error recovery
- âœ… Rate limiting i security measures
- âœ… Business logic validation
- âœ… Enterprise database management

## MENU BOCZNE - ZACHOWANIE STANU ROZWINIÄ˜CIA

### Implementacja inteligentnego menu
Menu boczne w `templates/partials/sidebar.html.twig` automatycznie zachowuje stan rozwiniÄ™cia podmenu:

```twig
{# Sprawdzenie aktualnej route i sekcji #}
{% set current_route = app.request.get('_route') %}
{% set is_admin_section = current_route starts with 'admin_' and not (current_route starts with 'admin_users') %}

<li class="nav-item">
    <a class="nav-link menu-link {{ is_admin_section ? 'active' : '' }}" 
       href="#sidebarAdmin" 
       data-bs-toggle="collapse" 
       role="button" 
       aria-expanded="{{ is_admin_section ? 'true' : 'false' }}" 
       aria-controls="sidebarAdmin">
        <i class="ri-settings-3-line"></i> <span>Panel administracyjny</span>
    </a>
    <div class="collapse menu-dropdown {{ is_admin_section ? 'show' : '' }}" id="sidebarAdmin">
        <ul class="nav nav-sm flex-column">
            <li class="nav-item">
                <a href="{{ path('admin_dashboard') }}" class="nav-link {{ current_route == 'admin_dashboard' ? 'active' : '' }}">Panel gÅ‚Ã³wny</a>
            </li>
            <!-- inne pozycje menu -->
        </ul>
    </div>
</li>
```

### WZORZEC dla nowych pozycji menu z podmenu

Aby nowe pozycje menu z podmenu zachowywaÅ‚y stan rozwiniÄ™cia, uÅ¼yj tego wzorca:

```twig
{% set current_route = app.request.get('_route') %}
{% set is_module_section = current_route starts with 'module_prefix_' %}

<li class="nav-item">
    <a class="nav-link menu-link {{ is_module_section ? 'active' : '' }}" 
       href="#sidebarModuleName" 
       data-bs-toggle="collapse" 
       role="button" 
       aria-expanded="{{ is_module_section ? 'true' : 'false' }}" 
       aria-controls="sidebarModuleName">
        <i class="ri-icon-name"></i> <span>Nazwa ModuÅ‚u</span>
    </a>
    <div class="collapse menu-dropdown {{ is_module_section ? 'show' : '' }}" id="sidebarModuleName">
        <ul class="nav nav-sm flex-column">
            <li class="nav-item">
                <a href="{{ path('module_route1') }}" class="nav-link {{ current_route starts with 'module_route1' ? 'active' : '' }}">Pozycja 1</a>
            </li>
            <li class="nav-item">
                <a href="{{ path('module_route2') }}" class="nav-link {{ current_route starts with 'module_route2' ? 'active' : '' }}">Pozycja 2</a>
            </li>
        </ul>
    </div>
</li>
```

**WAÅ»NE zasady:**
- ZastÄ…p `'module_prefix_'` prefiksem swoich route'Ã³w  
- UÅ¼yj unikalnego ID dla `sidebarModuleName`
- Dodaj odpowiednie klasy `'active'` dla podmenu
- UÅ¼yj `'starts with'` dla route'Ã³w z wieloma akcjami (edit, create, show)
- UÅ¼yj `'=='` dla pojedynczych route'Ã³w

### FunkcjonalnoÅ›Ä‡
- âœ… Menu pozostaje rozwiniÄ™te przy przejÅ›ciu miÄ™dzy podstronami tej samej sekcji
- âœ… Menu automatycznie siÄ™ zwija przy przejÅ›ciu do innej sekcji  
- âœ… PodÅ›wietlanie aktywnych pozycji w menu i podmenu
- âœ… Poprawne uÅ¼ycie Bootstrap collapse z `aria-expanded` i klasÄ… `show`
- âœ… Wzorzec gotowy do wykorzystania w nowych moduÅ‚ach

## SYSTEM MAILI - ENTERPRISE EMAIL MANAGEMENT

### EmailService - Centralny serwis do wysyÅ‚ania maili
Wszystkie moduÅ‚y MUSZÄ„ uÅ¼ywaÄ‡ EmailService zamiast bezpoÅ›redniego MailerInterface:

```php
public function __construct(
    // ... inne serwisy
    private EmailService $emailService
) {}

// POPRAWNE - uÅ¼ywanie EmailService z automatycznÄ… historiÄ…
$success = $this->emailService->sendEmail(
    to: $user->getEmail(),
    subject: 'Temat maila',
    body: 'TreÅ›Ä‡ maila',
    toName: $user->getFullName(), // opcjonalnie
    emailType: 'user_notification', // typ dla kategoryzacji
    metadata: ['user_id' => $user->getId(), 'action' => 'created'] // dodatkowe dane
);

// POPRAWNE - wysyÅ‚anie maili HTML
$success = $this->emailService->sendHtmlEmail(
    to: $user->getEmail(),
    subject: 'Temat maila',
    htmlBody: '<h1>Witaj!</h1><p>TreÅ›Ä‡ HTML</p>',
    textBody: 'Witaj! TreÅ›Ä‡ tekstowa', // opcjonalnie - auto-generowana z HTML
    toName: $user->getFullName(),
    emailType: 'welcome_email',
    metadata: ['template' => 'user_welcome']
);
```

### Gotowe metody EmailService
```php
// Mail powitalny dla nowego uÅ¼ytkownika
$this->emailService->sendWelcomeEmail($user, $temporaryPassword); // $temporaryPassword opcjonalnie

// Mail z resetem hasÅ‚a  
$this->emailService->sendPasswordResetEmail($user, $resetToken);

// Mail z powiadomieniem o przeglÄ…dzie (dla asekuracji)
$this->emailService->sendReviewNotificationEmail($email, $name, $reviewData);
```

### Konfiguracja SMTP
EmailService automatycznie uÅ¼ywa ustawieÅ„ SMTP z bazy danych:
- Ustawienia konfigurowane w `/admin/settings/email`
- Dynamiczny transport SMTP z bazy danych
- Fallback do domyÅ›lnego mailera w razie bÅ‚Ä™dÃ³w
- Automatyczne ukrywanie haseÅ‚ w logach

### Historia maili - Automatyczne logowanie
KaÅ¼dy mail wysÅ‚any przez EmailService jest automatycznie logowany:
- **Tabela**: `email_history`
- **Pola**: recipient_email, subject, body_text, body_html, status, email_type, metadata, sent_by, error_message
- **Automatyczne czyszczenie**: Konfigurowalny retention (domyÅ›lnie 90 dni)
- **Interface**: `/admin/emails` - przeglÄ…danie i statystyki

### Wzorzec dla nowych moduÅ‚Ã³w - WYSYÅANIE MAILI
```php
// W EventSubscriber moduÅ‚u
class NewModuleEventSubscriber implements EventSubscriberInterface
{
    public function __construct(
        private AuditService $auditService,
        private LoggerInterface $logger,
        private ?EmailService $emailService = null // Opcjonalnie
    ) {}
    
    public function onEntityCreated(EntityCreatedEvent $event): void
    {
        // Audit
        $this->auditService->logUserAction($event->getCreatedBy(), 'entity_created_event', [
            'entity_id' => $event->getEntity()->getId()
        ]);
        
        // Email notification (jeÅ›li EmailService dostÄ™pny)
        if ($this->emailService) {
            $this->sendCreationNotification($event);
        }
    }
    
    private function sendCreationNotification(EntityCreatedEvent $event): void
    {
        $entity = $event->getEntity();
        $user = $event->getCreatedBy();
        
        // WyÅ›lij powiadomienie do administratorÃ³w lub zainteresowanych
        $success = $this->emailService->sendEmail(
            to: 'admin@company.com',
            subject: 'Nowa encja utworzona: ' . $entity->getName(),
            body: "UÅ¼ytkownik {$user->getFullName()} utworzyÅ‚ nowÄ… encjÄ™: {$entity->getName()}",
            toName: 'Administrator',
            emailType: 'entity_created',
            metadata: [
                'entity_id' => $entity->getId(),
                'entity_type' => get_class($entity),
                'created_by' => $user->getId()
            ]
        );
        
        if ($success) {
            $this->logger->info('Creation notification sent', [
                'entity_id' => $entity->getId(),
                'recipient' => 'admin@company.com'
            ]);
        }
    }
}
```

### Czyszczenie historii maili
```bash
# Komenda czyszczÄ…ca stare maile
php bin/console app:email:cleanup [dni] [--dry-run] [--force]

# PrzykÅ‚ady
php bin/console app:email:cleanup 30 --dry-run    # PokaÅ¼ co zostanie usuniÄ™te
php bin/console app:email:cleanup 90 --force     # UsuÅ„ maile starsze niÅ¼ 90 dni
php bin/console app:email:cleanup                 # UÅ¼yj domyÅ›lnych ustawieÅ„

# Cron job (raz w tygodniu)
0 2 * * 0 cd /path/to/project && php bin/console app:email:cleanup --force
```

### WAÅ»NE - Co NIE WOLNO robiÄ‡ z mailami:
```php
// BÅÄ˜DNE - bezpoÅ›rednie uÅ¼ywanie MailerInterface
private MailerInterface $mailer;
$this->mailer->send($email); // âŒ Nie loguje do historii!

// BÅÄ˜DNE - tworzenie wÅ‚asnego transportu SMTP
$transport = Transport::fromDsn($dsn);
$mailer = new Mailer($transport); // âŒ Omija konfiguracjÄ™ z bazy danych!

// POPRAWNE - zawsze EmailService
$this->emailService->sendEmail(...); // âœ… Automatyczna historia + SMTP z bazy
```

### Historia maili - Interface administratora
- **GÅ‚Ã³wna lista**: `/admin/emails` - filtrowanie, wyszukiwanie, paginacja
- **SzczegÃ³Å‚y**: `/admin/emails/{id}` - peÅ‚ne dane maila + metadane
- **Statystyki**: `/admin/emails/stats` - wskaÅºniki sukcesu, rozkÅ‚ad typÃ³w
- **Czyszczenie**: Formularz do manualnego czyszczenia starych rekordÃ³w
- **Menu**: Panel administracyjny â†’ Historia maili

### EmailService - FunkcjonalnoÅ›ci zaawansowane
- âœ… Dynamiczny transport SMTP z bazy danych
- âœ… Automatyczne logowanie wszystkich maili (udane + nieudane)
- âœ… ObsÅ‚uga bÃ¥de HTML i tekstowych maili
- âœ… Metadane w formacie JSON dla rozszerzonych informacji
- âœ… Fallback do domyÅ›lnego mailera przy bÅ‚Ä™dach konfiguracji
- âœ… Security - ukrywanie haseÅ‚ w logach
- âœ… KompatybilnoÅ›Ä‡ z Symfony 6+ (Security bundle)
- âœ… Gotowe szablony maili (powitalne, reset hasÅ‚a, powiadomienia)

## MODUÅ ASEKURACJA - KOMPLETNE ROZWIÄ„ZANIE

### AsekuracyjnySPM - System ZarzÄ…dzania SprzÄ™tem Asekuracyjnym
ModuÅ‚ asekuracja to zaawansowany system zarzÄ…dzania sprzÄ™tem do prac na wysokoÅ›ci i asekuracji przemysÅ‚owej:

#### GÅ‚Ã³wne funkcjonalnoÅ›ci
1. **ZarzÄ…dzanie sprzÄ™tem asekuracyjnym**
   - Kompletny system inwentarzowy z numerami inwentarzowymi
   - Typy sprzÄ™tu: szelki, liny, kaski, zaciski, blokady
   - SzczegÃ³Å‚owe informacje: producent, model, numer seryjny, data produkcji
   - Automatyczne Å›ledzenie terminÃ³w przeglÄ…dÃ³w i certyfikacji
   - Status sprzÄ™tu: dostÄ™pny, przypisany, uszkodzony, na przeglÄ…dzie
   - System zaÅ‚Ä…cznikÃ³w (zdjÄ™cia, certyfikaty, instrukcje)

2. **System przeglÄ…dÃ³w**
   - Typy przeglÄ…dÃ³w: okresowy, kontrola po uszkodzeniu, po naprawie, poczÄ…tkowy
   - ZarzÄ…dzanie statusem: przygotowanie, na przeglÄ…dzie, zakoÅ„czone, anulowane
   - Generowanie protokoÅ‚Ã³w PDF z peÅ‚nÄ… dokumentacjÄ…
   - Automatyczne powiadomienia email o zbliÅ¼ajÄ…cych siÄ™ terminach
   - Historia wszystkich przeglÄ…dÃ³w z moÅ¼liwoÅ›ciÄ… wersjonowania

3. **Zestawy sprzÄ™tu**
   - Grupowanie sprzÄ™tu w zestawy tematyczne (podstawowy, zaawansowany, specjalistyczny, ratowniczy)
   - Kontrola kompletnoÅ›ci zestawÃ³w
   - Przypisywanie caÅ‚ych zestawÃ³w do pracownikÃ³w
   - ZarzÄ…dzanie statusem zestawÃ³w

4. **System przekazaÅ„ i zwrotÃ³w**
   - **Przekazania**: PeÅ‚ny workflow od przygotowania do zakoÅ„czenia
     - Przygotowanie przekazania z wyborem odbiorcy i datÄ…
     - Generowanie protokoÅ‚u przekazania PDF (format profesjonalny)
     - Status "W trakcie" â†’ "Przekazany"
     - Upload podpisanego protokoÅ‚u po zakoÅ„czeniu
   
   - **Zwroty**: Lustrzany proces dla zwrotÃ³w sprzÄ™tu
     - Przygotowanie zwrotu z datÄ… i uwagami
     - Generowanie protokoÅ‚u zwrotu PDF
     - Status "Zwrot w trakcie" â†’ "ZwrÃ³cony"  
     - Upload podpisanego protokoÅ‚u zwrotu

5. **ZarzÄ…dzanie uÅ¼ytkownikami i uprawnieniami**
   - Role: ASSEK_ADMIN, ASSEK_EDITOR, ASSEK_VIEWER, ASSEK_LIST
   - SzczegÃ³Å‚owe uprawnienia: VIEW, CREATE, EDIT, DELETE, ASSIGN, REVIEW, TRANSFER
   - Przypisywanie sprzÄ™tu do uÅ¼ytkownikÃ³w z datami i uwagami
   - Widok "Moje przypisania" dla pracownikÃ³w

#### Architektura techniczna

**Encje gÅ‚Ã³wne:**
- `AsekuracyjnyEquipment` - sprzÄ™t asekuracyjny
- `AsekuracyjnyEquipmentSet` - zestawy sprzÄ™tu  
- `AsekuracyjnyReview` - przeglÄ…dy sprzÄ™tu
- `AsekuracyjnyTransfer` - przekazania i zwroty

**Kontrolery i serwisy:**
```php
// GÅ‚Ã³wny kontroler z peÅ‚nym API
src/AsekuracyjnySPM/Controller/EquipmentController.php
src/AsekuracyjnySPM/Controller/EquipmentSetController.php
src/AsekuracyjnySPM/Controller/ReviewController.php

// Serwisy biznesowe (wzorzec Service Layer)
src/AsekuracyjnySPM/Service/AsekuracyjnyEquipmentService.php
src/AsekuracyjnySPM/Service/AsekuracyjnyReviewService.php
```

**Generowanie PDF:**
- Biblioteka TCPDF dla profesjonalnych protokoÅ‚Ã³w
- Szablony PDF z nagÅ‚Ã³wkami, tabelami, miejscami na podpisy
- ProtokÃ³Å‚y przekazaÅ„ z szczegÃ³Å‚ami sprzÄ™tu i odbiorcÃ³w
- ProtokÃ³Å‚y zwrotÃ³w z uwagami i datami

**SÅ‚owniki systemowe:**
```sql
-- Typy sprzÄ™tu, statusy przeglÄ…dÃ³w, typy zestawÃ³w
INSERT INTO dictionaries (type, name, value) VALUES
('assek_equipment_types', 'Szelki', 'harness'),
('assek_review_status', 'Na przeglÄ…dzie', 'sent'),
('assek_set_types', 'Podstawowy', 'basic');
```

#### Interfejs uÅ¼ytkownika

**GÅ‚Ã³wne widoki:**
- `/asekuracja/` - lista sprzÄ™tu z filtrowaniem i wyszukiwaniem
- `/asekuracja/equipment/{id}` - szczegÃ³Å‚y sprzÄ™tu z historiÄ…
- `/asekuracja/equipment-sets/` - zarzÄ…dzanie zestawami
- `/asekuracja/equipment-sets/{id}` - szczegÃ³Å‚y zestawu z sekcjÄ… przekazaÅ„
- `/asekuracja/reviews/` - zarzÄ…dzanie przeglÄ…dami
- `/asekuracja/my-equipment` - moje przypisania

**FunkcjonalnoÅ›ci UI:**
- Modalne okna Bootstrap do przekazaÅ„ i zwrotÃ³w
- Dinamiczne tabele z paginacjÄ…
- System notyfikacji (alerty o terminach)
- Upload plikÃ³w z walidacjÄ… (protokÃ³Å‚y PDF)
- Responsywny design na wszystkich urzÄ…dzeniach

**Menu boczne:**
```twig
{% set is_asekuracja_section = current_route starts with 'asekuracja_' %}
<li class="nav-item">
    <a class="nav-link menu-link {{ is_asekuracja_section ? 'active' : '' }}"
       href="#sidebarAsekuracja">
        <i class="ri-shield-line"></i> <span>Asekuracja</span>
    </a>
    <div class="collapse menu-dropdown {{ is_asekuracja_section ? 'show' : '' }}">
        <!-- podmenu -->
    </div>
</li>
```

#### BezpieczeÅ„stwo i audyt

**PeÅ‚na integracja z systemem Enterprise:**
```php
// Wszystkie akcje uÅ¼ywajÄ… AuthorizationService
$this->authorizationService->checkPermission($user, 'asekuracja', 'CREATE', $request);

// Kompleksowy audit log
$this->auditService->logUserAction($user, 'equipment_assigned', [
    'equipment_id' => $equipment->getId(),
    'assignee_id' => $assignee->getId()
], $request);

// Event-driven architecture
$event = new AsekuracyjnyEquipmentAssignedEvent($equipment, $user, $assignee);
$this->eventDispatcher->dispatch($event);
```

**Walidacje bezpieczeÅ„stwa:**
- CSRF protection na wszystkich formularzach
- Walidacja typÃ³w plikÃ³w (tylko PDF dla protokoÅ‚Ã³w)  
- Ograniczenia rozmiaru plikÃ³w
- Sanityzacja danych wejÅ›ciowych
- Rate limiting na wyszukiwanie

#### Migration i deployment

**Migracje bazy danych:**
```php
// Automatyczne migracje Doctrine
php bin/console doctrine:migrations:diff
php bin/console doctrine:migrations:migrate
```

**Fixtures dla development:**
```php
// PrzykÅ‚adowe dane sprzÄ™tu asekuracyjnego
php bin/console doctrine:fixtures:load --append
```

#### Status implementacji

**âœ… ZREALIZOWANE:**
- Kompletny CRUD dla sprzÄ™tu asekuracyjnego
- System przeglÄ…dÃ³w z workflow i PDF
- Zestawy sprzÄ™tu z zarzÄ…dzaniem kompletnoÅ›ci  
- PeÅ‚ny system przekazaÅ„ z PDF protokoÅ‚ami
- System zwrotÃ³w z lustrzanym procesem przekazaÅ„
- Autoryzacja i audit trail
- Interface uÅ¼ytkownika z modal dialogs
- Upload podpisanych protokoÅ‚Ã³w
- Email notifications dla przeglÄ…dÃ³w
- Historia przekazaÅ„ w szczegÃ³Å‚ach zestawÃ³w
- Responsywny UI z Bootstrap 5.3
- Integracja z systemem sÅ‚ownikÃ³w
- PeÅ‚ne testy funkcjonalne

**ğŸ“ˆ METRYKI:**
- 4 gÅ‚Ã³wne encje z relacjami
- 15+ kontrolerÃ³w akcji
- 3 serwisy biznesowe
- 12 szablonÃ³w Twig
- 8 typÃ³w sÅ‚ownikÃ³w systemowych  
- 4 poziomy uprawnieÅ„
- PDF protocols z TCPDF
- 20+ walidacji biznesowych

**ğŸ¯ UX/UI FEATURES:**
- Ikona pomocy z legendÄ… w nagÅ‚Ã³wku listy zestawÃ³w
- Modal z objaÅ›nieniami znaczenia ikon statusÃ³w:
  - Zielony ptaszek (ri-check-line) - zestaw kompletny
  - PomaraÅ„czowy wykrzyknik (ri-error-warning-line) - zestaw niekompletny
  - Czerwony wykrzyknik (ri-error-warning-line text-danger) - elementy z przeterminowanymi przeglÄ…dami
  - PomaraÅ„czowy zegar (ri-time-line) - elementy wymagajÄ…ce przeglÄ…du w ciÄ…gu 30 dni
- Bootstrap modal system dla interaktywnej legendy
- Responsywne ikony RemixIcon w caÅ‚ym module
- Grid.js dla zaawansowanych tabel z paginacjÄ…

ModuÅ‚ Asekuracja stanowi kompletne rozwiÄ…zanie enterprise dla zarzÄ…dzania sprzÄ™tem do prac na wysokoÅ›ci, z peÅ‚nÄ… integracjÄ… z architekturÄ… AssetHub i profesjonalnymi procesami biznesowymi.

System AssetHub jest teraz gotowy na skalÄ™ enterprise z nowoczesnymi wzorcami architektonicznymi, kompleksowym systemem bezpieczeÅ„stwa i audytu, oraz peÅ‚nym pokryciem testami!